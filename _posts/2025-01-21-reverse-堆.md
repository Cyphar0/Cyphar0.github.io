---
layout: post
title: "堆"
category: reverse
date: 2025-01-22
---

堆是计算机内存中未自动管理的区域

在堆上分配内存，必须使用 malloc() 或 calloc()，如果不使用时需要free()释放

如果不释放，堆上的内存仍将被留出，并且不可供其他需要它的进程使用，会存在内存泄漏

![1](\assets\images\堆\1.jpg)

堆对可变大小没有大小限制，唯一会限制堆的是计算机的物理限制

堆内存的读取和写入速度稍慢，必须使用指针来访问堆上的内存

与栈不同，在堆上创建的变量可由程序中的任何位置的任何函数访问，堆变量本质上是全局范围的



如果需要为结构体或大型数组之类的东西分配一个大的内存块，并且需要在程序的很长一段时间内保持该变量，并且必须全局访问，那么选择堆

如果需要可以动态更改大小的变量（如数组和结构体），例如可以根据需要增长或收缩的数组，则需要使用动态内存分配函数（如 malloc（）、calloc（）、realloc（）和 free（））来手动管理内存

